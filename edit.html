<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script></head>
<body>

<div class="container">
    <div class="jumbotron">
        <h1>POWER SQ Catalogue</h1>
        <p>Edit product</p>
        <p><a href="javascript:history.back()"><< Back</a></p>
    </div>

    <form>
        <div class="form-group row">
            <label for="model" class="col-4 col-form-label">Model</label>
            <div class="col-8">
                <input id="model" name="model" type="text" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="brand" class="col-4 col-form-label">Brand</label>
            <div class="col-8">
                <select class="form-control" id="brand" name="brand" required>
                    <option value="">Select Brand</option>
                    <option value="Samsung">Samsung</option>
                    <option value="Sony">Sony</option>
                    <option value="LG">LG</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="category" class="col-4 col-form-label">Category</label>
            <div class="col-8">
                <select class="form-control" name="category" id="category" required>
                    <option value="">Select Category</option>
                    <option value="TV">TV</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="product" class="col-4 col-form-label">Product</label>
            <div class="col-8">
                <select class="form-control" name="product" id="product" required>
                    <option value="">Select Product</option>
                    <option value="UHD TV">UHD TV</option>
                    <option value="QLED TV">QLED TV</option>
                    <option value="OLED TV">OLED TV</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="upc" class="col-4 col-form-label">UPC</label>
            <div class="col-8">
                <input id="upc" name="upc" type="number" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="title" class="col-4 col-form-label">Title</label>
            <div class="col-8">
                <input id="title" name="title" type="text" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="cost" class="col-4 col-form-label">Cost</label>
            <div class="col-8">
                <input id="cost" name="cost" type="number" step="0.01" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="price" class="col-4 col-form-label">Price</label>
            <div class="col-8">
                <input id="price" name="price" type="number" step="0.01" class="form-control">
            </div>
        </div>

        <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#price_collapse">Price</button>

        <div id="price_collapse" class="collapse">

        <div class="form-group row">
            <label for="price_before" class="col-4 col-form-label">Price Before</label>
            <div class="col-8">
                <input id="price_before" name="price_before" type="number" step="0.01" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="price1" class="col-4 col-form-label">Price1</label>
            <div class="col-8">
                <input id="price1" name="price1" type="number" step="0.01" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="price1_start" class="col-4 col-form-label">Price1 Start</label>
            <div class="col-8">
                <input id="price1_start" name="price1_start" type="date" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="price1_end" class="col-4 col-form-label">Price1 End</label>
            <div class="col-8">
                <input id="price1_end" name="price1_end" type="date" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="price2" class="col-4 col-form-label">Price2</label>
            <div class="col-8">
                <input id="price2" name="price2" type="number" step="0.01" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="price2_start" class="col-4 col-form-label">Price2 Start</label>
            <div class="col-8">
                <input id="price2_start" name="price2_start" type="date" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="price2_end" class="col-4 col-form-label">Price2 End</label>
            <div class="col-8">
                <input id="price2_end" name="price2_end" type="date" class="form-control">
            </div>
        </div>
        </div>
        <div class="form-group row">
            <label class="col-4">Discontinued</label>
            <div class="col-8">
                <div class="custom-control custom-radio custom-control-inline">
                    <input name="discontinued" id="discontinued_0" type="radio" class="custom-control-input" value="0">
                    <label for="discontinued_0" class="custom-control-label">Active</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input name="discontinued" id="discontinued_1" type="radio" class="custom-control-input" value="1">
                    <label for="discontinued_1" class="custom-control-label">Inactive</label>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="size" class="col-4 col-form-label">Size</label>
            <div class="col-8">
                <select class="form-control" id="size" name="size">
                    <option value="">Select Size</option>
                    <option value="32">32</option>
                    <option value="40">40</option>
                    <option value="43">43</option>
                    <option value="49">49</option>
                    <option value="50">50</option>
                    <option value="55">55</option>
                    <option value="58">58</option>
                    <option value="60">60</option>
                    <option value="65">65</option>
                    <option value="70">70</option>
                    <option value="75">75</option>
                    <option value="80">80</option>
                    <option value="82">82</option>
                    <option value="85">85</option>
                    <option value="86">86</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="technology" class="col-4 col-form-label">Technology</label>
            <div class="col-8">
                <select id="technology" name="technology" class="form-control">
                    <option value="">Select Technology</option>
                    <option value="LCD">LCD</option>
                    <option value="LED">LED</option>
                    <option value="QLED">QLED</option>
                    <option value="OLED">OLED</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="dimension_withstand1" class="col-4 col-form-label">Dimension withstand mm</label>
            <div class="col-8 form-row">
                <input id="dimension_withstand1" name="dimension_withstand1" type="text" class="form-control col-4">
                <input id="dimension_withstand2" name="dimension_withstand2" type="text" class="form-control col-4">
                <input id="dimension_withstand3" name="dimension_withstand3" type="text" class="form-control col-4">
            </div>
            <label for="dimension_withstand1" class="col-4 col-form-label">Dimension withstand Inches</label>
            <div class="col-8 form-row">
                <input id="dimension_withstand1i" name="dimension_withstand1i" type="text" class="form-control col-4">
                <input id="dimension_withstand2i" name="dimension_withstand2i" type="text" class="form-control col-4">
                <input id="dimension_withstand3i" name="dimension_withstand3i" type="text" class="form-control col-4">
            </div>
        </div>
        <div class="form-group row">
            <label for="dimension_withoutstand1" class="col-4 col-form-label">Dimension withoutstand</label>
            <div class="col-8 form-row">
                <input id="dimension_withoutstand1" name="dimension_withoutstand1" type="text" class="form-control col-4">
                <input id="dimension_withoutstand2" name="dimension_withoutstand2" type="text" class="form-control col-4">
                <input id="dimension_withoutstand3" name="dimension_withoutstand3" type="text" class="form-control col-4">
            </div>
        </div>
        <div class="form-group row">
            <label for="dimension_stand1" class="col-4 col-form-label">Dimension stand</label>
            <div class="col-8 form-row">
                <input id="dimension_stand1" name="dimension_stand1" type="text" class="form-control col-4">
                <input id="dimension_stand2" name="dimension_stand2" type="text" class="form-control col-4">
                <input id="dimension_stand3" name="dimension_stand3" type="text" class="form-control col-4">
            </div>
        </div>
        <div class="form-group row">
            <label for="dimension_package1" class="col-4 col-form-label">Dimension package</label>
            <div class="col-8 form-row">
                <input id="dimension_package1" name="dimension_package1" type="text" class="form-control col-4">
                <input id="dimension_package2" name="dimension_package2" type="text" class="form-control col-4">
                <input id="dimension_package3" name="dimension_package3" type="text" class="form-control col-4">

            </div>
        </div>
        <div class="form-group row">
            <label for="weight" class="col-4 col-form-label">Weight</label>
            <div class="col-8">
                <input id="weight" name="weight" type="number" step="any" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="weight_stand" class="col-4 col-form-label">Weight Stand</label>
            <div class="col-8">
                <input id="weight_stand" name="weight_stand" type="number" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="weight_package" class="col-4 col-form-label">Weight Package</label>
            <div class="col-8">
                <input id="weight_package" name="weight_package" type="number" class="form-control">
            </div>
        </div>
        <div class="form-group row">
            <label for="releasedate" class="col-4 col-form-label">Releasedate</label>
            <div class="col-8">
                <input id="releasedate" name="releasedate" type="date" class="form-control">
            </div>
        </div>
        <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#more">Features</button>

        <div id="more" class="">
            <div class="form-group row">
            <label for="feature_display_resolution" class="col-4 col-form-label">Feature display resolution</label>
            <div class="col-8">
                <select id="feature_display_resolution" name="feature_display_resolution" class="form-control">
                    <option value="">Select </option>
                    <option value="720p HD">720p HD</option>
                    <option value="1080p HD">1080p HD</option>
                    <option value="4K UHD">4K UHD</option>
                    <option value="8K UHD">8K UHD</option>
                </select>
            </div>
        </div>
            <div class="form-group row">
                <label for="feature_display_type" class="col-4 col-form-label">Feature display type</label>
                <div class="col-8">
                    <input id="feature_display_type" name="feature_display_type" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_display_refreshrate" class="col-4 col-form-label">Feature display refreshrate</label>
                <div class="col-8">
                    <input id="feature_display_refreshrate" name="feature_display_refreshrate" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_display_backlight" class="col-4 col-form-label">Feature display backlight</label>
                <div class="col-8">
                    <input id="feature_display_backlight" name="feature_display_backlight" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_display_more" class="col-4 col-form-label">Feature display more</label>
                <div class="col-8">
                    <input id="feature_display_more" name="feature_display_more" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_assistant" class="col-4 col-form-label">Feature assistant</label>
                <div class="col-8">
                    <input id="feature_assistant" name="feature_assistant" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_audio" class="col-4 col-form-label">Feature audio</label>
                <div class="col-8">
                    <input id="feature_audio" name="feature_audio" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_picture" class="col-4 col-form-label">Feature picture</label>
                <div class="col-8">
                    <input id="feature_picture" name="feature_picture" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_connectivityh" class="col-4 col-form-label">Feature connectivity</label>
                <div class="col-8 form-row">
                    <label for="feature_connectivityh" class="col-form-label">HDMI</label>
                    <select id="feature_connectivityh" name="feature_connectivityh" class="form-control col-1">
                        <option value="N/A">N/A</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                    <label for="feature_connectivityu" class="col-form-label">USB</label>
                    <select id="feature_connectivityu" name="feature_connectivityu" class="form-control col-1">
                        <option value="N/A">N/A</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                    <label for="feature_connectivityb" class="col-form-label w-auto">Bluetooth</label>
                    <select id="feature_connectivityb" name="feature_connectivityb" class="form-control col-1">
                        <option value="N/A">N/A</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                    <label for="feature_connectivitye" class="col-form-label w-auto">Ethernet</label>
                    <select id="feature_connectivitye" name="feature_connectivitye" class="form-control col-1">
                        <option value="N/A">N/A</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                    <label for="feature_connectivityc" class="col-form-label w-auto">Component</label>
                    <select id="feature_connectivityc" name="feature_connectivityc" class="form-control col-1">
                        <option value="N/A">N/A</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_mounting" class="col-4 col-form-label">Feature mounting</label>
                <div class="col-8">
                    <input id="feature_mounting" name="feature_mounting" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_ports" class="col-4 col-form-label">Feature ports</label>
                <div class="col-8">
                    <input id="feature_ports" name="feature_ports" type="text" class="form-control">
                </div>
            </div>
            <div class="form-group row">
                <label for="feature_power" class="col-4 col-form-label">Feature power</label>
                <div class="col-8">
                    <input id="feature_power" name="feature_power" type="text" class="form-control">
                </div>
            </div>
        </div>
        <div class="form-group row">
            <label for="warranty" class="col-4 col-form-label">Warranty</label>
            <div class="col-8">
                <select class="form-control" id="warranty" name="warranty" >
                    <option value="">Select</option>
                    <option value="1">1 Year</option>
                    <option value="2">2 Years</option>
                    <option value="3">3 Years</option>
                    <option value="4">4 Years</option>
                    <option value="5">5 Years</option>
                </select>
            </div>
        </div>
        <div class="form-group row">
            <label for="description" class="col-4 col-form-label">Description</label>
            <div class="col-8">
                <textarea id="description" name="description" cols="40" rows="5" class="form-control"></textarea>
            </div>
        </div>
        <div class="form-group row">
            <label for="customFile" class="col-4 col-form-label">Images</label>
            <div class="col-8">
                <div class="custom-file">
                    <input type="file" class="custom-file-input" id="customFile" name="customFile" multiple>
                    <label class="custom-file-label" for="customFile">Choose file</label>
                </div>
            </div>
        </div>
        <div class="form-group row pt-3 pb-3" style="border-top: 1px solid rgb(222, 224, 225);z-index: 9;background-color: white;position: sticky;bottom: 0;">
            <div class="offset-4 col-8">
                <button name="submit" type="submit" class="btn btn-primary">Submit</button>
            </div>
        </div>
    </form>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    $(document).ready(function() {

        var id;

        function getUrlVars()
        {
            var vars = [], hash;
            var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
            for(var i = 0; i < hashes.length; i++)
            {
                hash = hashes[i].split('=');
                vars.push(hash[0]);
                vars[hash[0]] = hash[1];
            }
            return vars;
        }
        var id = getUrlVars()["id"];
        if (!id){
            console.log('no');
            alert("No ID Selected.");
            history.back();
        }
        else {

            var formData = {
              'id'          : id
            };

            // process the form
            $.ajax({
                type        : 'POST', // define the type of HTTP verb we want to use (POST for our form)
                url         : 'powersqapi/v1/Api.php?apicall=getproductbyid&id=' + id, // the url where we want to POST
                data        : formData, // our data object
                dataType    : 'json', // what type of data do we expect back from the server
                encode          : true
            })
            // using the done promise callback
                .done(function(data) {
                    $('[name=model]').val(data.products[0].model);
                    $('[name=brand]').val(data.products[0].brand);
                    $('[name=category]').val(data.products[0].category);
                    $('[name=product]').val(data.products[0].product);
                    $('[name=upc]').val(data.products[0].upc);
                    $('[name=title]').val(data.products[0].title);
                    $('[name=cost]').val(data.products[0].cost);
                    $('[name=price]').val(data.products[0].price);
                    $('[name=price_before]').val(data.products[0].price_before);
                    $('[name=price1]').val(data.products[0].price1);
                    $('[name=price1_start]').val(data.products[0].price1_start);
                    $('[name=price1_end]').val(data.products[0].price1_end);
                    $('[name=price2]').val(data.products[0].price2);
                    $('[name=price2_start]').val(data.products[0].price2_start);
                    $('[name=price2_end]').val(data.products[0].price2_end);
                    $('[name=discontinued]').val(data.products[0].discontinued);
                    $('[name=size]').val(data.products[0].size);
                    $('[name=technology]').val(data.products[0].technology);

                    var d1 = data.products[0].dimension_withstand.split(" ");
                    var d2 = data.products[0].dimension_withoutstand.split(" ");
                    var d3 = data.products[0].dimension_stand.split(" ");
                    var d4 = data.products[0].dimension_package.split(" ");

                    $('[name=dimension_withstand1]').val(d1[0]);$('[name=dimension_withstand2]').val(d1[1]);$('[name=dimension_withstand3]').val(d1[2]);
                    $('[name=dimension_withstand1i]').val(parseFloat(d1[0]/25.4).toFixed(2));$('[name=dimension_withstand2i]').val(parseFloat(d1[1]/25.4).toFixed(2));$('[name=dimension_withstand3i]').val(parseFloat(d1[2]/25.4).toFixed(2));
                    $('[name=dimension_withoutstand1]').val(d2[0]);$('[name=dimension_withoutstand2]').val(d2[1]);$('[name=dimension_withoutstand3]').val(d2[2]);
                    $('[name=dimension_stand1]').val(d3[0]);$('[name=dimension_stand2]').val(d3[1]);$('[name=dimension_stand3]').val(d3[2]);
                    $('[name=dimension_package1]').val(d4[0]);$('[name=dimension_package2]').val(d4[1]);$('[name=dimension_package3]').val(d4[2]);
                    $('[name=dimension_withoutstand]').val(data.products[0].dimension_withoutstand);
                    $('[name=dimension_stand]').val(data.products[0].dimension_stand);
                    $('[name=dimension_package]').val(data.products[0].dimension_package);
                    $('[name=weight]').val(data.products[0].weight);
                    $('[name=weight_stand]').val(data.products[0].weight_stand);
                    $('[name=weight_package]').val(data.products[0].weight_package);
                    $('[name=releasedate]').val(data.products[0].releasedate);
                    $('[name=feature_display_resolution]').val(data.products[0].feature_display_resolution);
                    $('[name=feature_display_type]').val(data.products[0].feature_display_type);
                    $('[name=feature_display_refreshrate]').val(data.products[0].feature_display_refreshrate);
                    $('[name=feature_display_backlight]').val(data.products[0].feature_display_backlight);
                    $('[name=feature_display_more]').val(data.products[0].feature_display_more);
                    $('[name=feature_assistant]').val(data.products[0].feature_assistant);
                    $('[name=feature_audio]').val(data.products[0].feature_audio);
                    $('[name=feature_picture]').val(data.products[0].feature_picture);

                    var c1 = data.products[0].feature_connectivity.split(" ");

                    $('[name=feature_connectivityh]').val(c1[0]);$('[name=feature_connectivityu]').val(c1[1]);$('[name=feature_connectivityb]').val(c1[2]);$('[name=feature_connectivitye]').val(c1[3]);$('[name=feature_connectivityc]').val(c1[4]);
                    $('[name=feature_mounting]').val(data.products[0].feature_mounting);
                    $('[name=feature_ports]').val(data.products[0].feature_ports);
                    $('[name=feature_power]').val(data.products[0].feature_power);
                    $('[name=warranty]').val(data.products[0].warranty);
                    $('[name=description]').val(data.products[0].description);
                    console.log(data.products[0].model);
                });
        }
        console.log(id);


        var ress = $('[name=dimension_withstand1]').val() + ' ' + $('[name=dimension_withstand2]').val() + ' ' + $('[name=dimension_withstand3]').val();
        console.log(ress);
        // process the form
        $('form').submit(function(event) {

            // get the form data
            var formData = {

                'id'                : id,

                'model'             : $('[name=model]').val(),
                'brand'             : $('[name=brand]').val(),
                'category'          : $('[name=category]').val(),
                'product'           : $('[name=product]').val(),

                'upc' : $('[name=upc]').val(),
                'title' : $('[name=title]').val(),
                'cost' : $('[name=cost]').val(),
                'price' : $('[name=price]').val(),
                'price_before' : $('[name=price_before]').val(),
                'price1' : $('[name=price1]').val(),
                'price1_start' : $('[name=price1_start]').val(),
                'price1_end' : $('[name=price1_end]').val(),
                'price2' : $('[name=price2]').val(),
                'price2_start' : $('[name=price2_start]').val(),
                'price2_end' : $('[name=price2_end]').val(),
                'discontinued' : $('[name=discontinued]').val(),
                'size' : $('[name=size]').val(),
                'technology' : $('[name=technology]').val(),
                'dimension_withstand' : $('[name=dimension_withstand1]').val() + ' ' + $('[name=dimension_withstand2]').val() + ' ' + $('[name=dimension_withstand3]').val(),
                'dimension_withoutstand' : $('[name=dimension_withoutstand1]').val() + ' ' + $('[name=dimension_withoutstand2]').val() + ' ' + $('[name=dimension_withoutstand3]').val(),
                'dimension_stand' : $('[name=dimension_stand1]').val() + ' ' + $('[name=dimension_stand2]').val() + ' ' + $('[name=dimension_stand3]').val(),
                'dimension_package' : $('[name=dimension_package1]').val() + ' ' + $('[name=dimension_package2]').val() + ' ' + $('[name=dimension_package3]').val(),
                'weight' : $('[name=weight]').val(),
                'weight_stand' : $('[name=weight_stand]').val(),
                'weight_package' : $('[name=weight_package]').val(),
                'releasedate' : $('[name=releasedate]').val(),
                'feature_display_resolution' : $('[name=feature_display_resolution]').val(),
                'feature_display_type' : $('[name=feature_display_type]').val(),
                'feature_display_refreshrate' : $('[name=feature_display_refreshrate]').val(),
                'feature_display_backlight' : $('[name=feature_display_backlight]').val(),
                'feature_display_more' : $('[name=feature_display_more]').val(),
                'feature_assistant' : $('[name=feature_assistant]').val(),
                'feature_audio' : $('[name=feature_audio]').val(),
                'feature_picture' : $('[name=feature_picture]').val(),
                'feature_connectivity' : $('[name=feature_connectivityh]').val() + ' ' + $('[name=feature_connectivityu]').val() + ' ' + $('[name=feature_connectivityb]').val() + ' ' + $('[name=feature_connectivitye]').val() + ' ' + $('[name=feature_connectivityc]').val(),
                'feature_mounting' : $('[name=feature_mounting]').val(),
                'feature_ports' : $('[name=feature_ports]').val(),
                'feature_power' : $('[name=feature_power]').val(),
                'warranty' : $('[name=warranty]').val(),
                'description' : $('[name=description]').val(),

            };

            console.log(formData);

            // process the form
            $.ajax({
                type        : 'POST', // define the type of HTTP verb we want to use (POST for our form)
                url         : 'powersqapi/v1/Api.php?apicall=updateproduct', // the url where we want to POST
                data        : formData, // our data object
                dataType    : 'json', // what type of data do we expect back from the server
                encode          : true
            })
            // using the done promise callback
                .done(function(data) {

                    console.log(data);

                    var message;
                    if(data.error ==0){
                        message = "Success! \n";
                    }
                    else{
                        message = "Failed! \n"
                    }

                    message += data.message;
                    alert(message);

                });

            // stop the form from submitting the normal way and refreshing the page*/
            event.preventDefault();
        });

    });
</script>
</body>
</html>
